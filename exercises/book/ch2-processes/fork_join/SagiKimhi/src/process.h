#ifndef PROCESS_H_
#define PROCESS_H_

/* -----------------------------------------------------------------------------
 * Includes
 * ----------------------------------------------------------------------------- */

#include <sys/types.h>

/* -----------------------------------------------------------------------------
 * Defines
 * ----------------------------------------------------------------------------- */

#define MAX_GPROCS 100

/* -----------------------------------------------------------------------------
 * Types
 * ----------------------------------------------------------------------------- */

typedef struct process Process;

struct process {
    Process (*get)(void);

    void (*fork)(Process, size_t);
    void (*join)(Process);

    void (*print)(Process p);

    void *self;
};

/* -----------------------------------------------------------------------------
 * Method Declarations
 * ----------------------------------------------------------------------------- */

Process
getp(void);

void
nfork(Process, size_t);

void
join(Process);

void
printp(Process p);

/* -----------------------------------------------------------------------------
 * Constants
 * ----------------------------------------------------------------------------- */

static const Process process = {
    .get=&getp,
    .fork=&nfork,
    .join=&join,
    .print=&printp,
    .self=0,
};

#endif
